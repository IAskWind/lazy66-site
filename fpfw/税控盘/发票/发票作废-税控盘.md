# 发票作废-税控盘	

- 接口名称：`发票作废`
- 业务类型：`FPZF`
- 报文版本：1.0
- 接口描述：发票作废

##### 请求报文：

```xml
<?xml version="1.0" encoding="utf-8"?>
<business comment="发票作废" id="FPZF" version='2.0'>
    <head>
        <appid>{{appid}}</appid>
        <sid>{{sid}}</sid>
    </head>
    <body yylxdm="1">
        <input>
            <fplxdm>007</fplxdm>
            <zflx>1</zflx>
            <fpdm>3330000444</fpdm>
            <fphm>74541567</fphm>
            <hjje>4069.20</hjje>
            <zfr>作废人</zfr>
        </input>
    </body>
</business>
```

##### 请求参数说明：

| 索引 |   ID   |     名称     |  长度  | 必须 | 说明                                                         |
| :--: | :----: | :----------: | :----: | :--: | ------------------------------------------------------------ |
|  1   | appid  |   应用代码   | 10-100 |  是  | 应用代码，用来标记不同的设备、不同的使用者，全局唯一，直接使用登记开票应用接口返回的appid |
|  2   |  sid   |  交易流水id  | 5-100  |  是  | 交易流水id，接口使用者自己生成，相同应用代码中，sid不允许重复 |
|  3   |  zflx  |   作废类型   |   1    |  是  | 0：空白发票作废<br />1：已开发票作废                         |
|  4   | fplxdm | 发票类型代码 |   3    |  是  | 026电子发票  007普通发票   004专用发票                       |
|  5   |  fphm  |   发票号码   |   8    |  否  | 空白发票作废为空                                             |
|  6   |  fpdm  |   发票代码   |   12   |  否  | 空白发票作废为空<br />长度根据发票类型不同                   |
|  7   |  hjje  |   合计金额   |   12   |  否  | 空白发票作废为空，单位：元（两位小数）                       |
|  8   |  zfr   |    作废人    |   20   |  是  | 作废人姓名                                                   |

##### 响应报文：

``` xml
<?xml version="1.0" encoding="utf-8"?>
<business comment="查询结果" id="CXJG" version='1.0'>
	<head>
		<appid>efab62c5-897a-476e-8312-01a70396feb1</appid>
		<sid>141256</sid>
	</head>
	<body>
		<fplxdm>发票类型代码</fplxdm>
        <fpdm>发票代码</fpdm>
        <fphm>发票号码</fphm>
        <zfzt>作废状态</zfzt>
        <zfrq>作废日期</zfrq>
        <returncode>0</returncode>
        <returnmsg>成功</returnmsg>
	</body>
</business>


```

##### 响应参数说明：    
| 索引 |     ID     |     名称     | 长度 | 必须 | 说明                                                         |
| :--: | :--------: | :----------: | :--: | :--: | ------------------------------------------------------------ |
|  2   |   fplxdm   | 发票类型代码 |  3   |  是  |                                                              |
|  3   |    fpdm    |   发票代码   |  12  |  否  | 空白发票作废为空<br />长度根据发票类型不同<br />             |
|  4   |    fphm    |   作废状态   |  8   |  否  | 空白发票作废为空                                             |
|  5   |    zfzt    |   作废状态   |  1   |  是  | 2：空白作废<br/>3：已开正数作废<br/>4：已开负数作废<br/>10：未开具作废<br/>11：不在本税控盘中<br/>12已开具发票，对应的明细数据已删除。 |
|  6   |    zfrq    |   作废日期   |  8   |  是  | 作废成功税控盘返回，格式YYYYMMDD                             |
|  7   | returncode |   返回代码   |  8   |  是  | 00000000成功，其它失败                                       |
|  8   | returnmsg  |   返回信息   | 256  |  是  |                                                              |